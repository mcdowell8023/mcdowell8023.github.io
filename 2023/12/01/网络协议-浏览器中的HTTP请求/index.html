<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>网络协议-浏览器中的HTTP请求 | mcdowell blog</title><meta name="description" content="浏览器发起 HTTP 请求的一般步 ：  检查本地缓存：检查是否存在本地缓存，如果存在直接使用。 DNS 解析：将域名解析为 IP 地址。 ARP 查询：获取目标 IP 地址对应的 MAC 地址（如果在同一局域网内）。 TCP 三次握手：通过 TCP 三次握手建立连接。 TLS 握手: 用于在浏览器和服务器之间协商加密参数和验证身份 基于 TCP 数据流 发送 HTTP 请求：通过建立的 TCP"><meta property="og:type" content="article"><meta property="og:title" content="网络协议-浏览器中的HTTP请求"><meta property="og:url" content="http://mcdowell8023.github.io/2023/12/01/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84HTTP%E8%AF%B7%E6%B1%82/index.html"><meta property="og:site_name" content="mcdowell博客"><meta property="og:description" content="浏览器发起 HTTP 请求的一般步 ：  检查本地缓存：检查是否存在本地缓存，如果存在直接使用。 DNS 解析：将域名解析为 IP 地址。 ARP 查询：获取目标 IP 地址对应的 MAC 地址（如果在同一局域网内）。 TCP 三次握手：通过 TCP 三次握手建立连接。 TLS 握手: 用于在浏览器和服务器之间协商加密参数和验证身份 基于 TCP 数据流 发送 HTTP 请求：通过建立的 TCP"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://mcdowell8023.github.io/images/web_optimize/1/dns_1.png"><meta property="og:image" content="http://mcdowell8023.github.io/images/web_optimize/1/dns_2.png"><meta property="og:image" content="http://mcdowell8023.github.io/images/web_optimize/1/tcp.webp"><meta property="og:image" content="http://mcdowell8023.github.io/images/web_optimize/1/tcp.webp"><meta property="article:published_time" content="2023-12-01T04:38:56.000Z"><meta property="article:modified_time" content="2025-03-07T17:29:11.129Z"><meta property="article:author" content="mcdowell"><meta property="article:tag" content="笔记"><meta property="article:tag" content="http"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://mcdowell8023.github.io/images/web_optimize/1/dns_1.png"><link rel="canonical" href="http://mcdowell8023.github.io/2023/12/01/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84HTTP%E8%AF%B7%E6%B1%82/index.html"><link rel="alternate" href="/atom.xml" title="mcdowell博客" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link href="//cdn.jsdelivr.net/npm/katex@0.9.0/dist/katex.min.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"></head><body class="main-center theme-green" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/mcdowell8023" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">mcdowell</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">Web 前端 &amp; 90后</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> 北京, 中国</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">友链</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/mcdowell8023" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://www.linkedin.com/in/%E6%98%BE%E8%B6%85-%E5%AD%9F-688582107/" target="_blank" title="Linkedin" data-toggle="tooltip" data-placement="top"><i class="icon icon-linkedin"></i></a></li><li><a href="https://mcdowell8023.gitee.io/" target="_blank" title="Coding" data-toggle="tooltip" data-placement="top"><i class="icon icon-coding"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>但行好事莫问前程</p></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%A2%E6%88%B7%E7%AB%AF/">客户端</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%B8%96/">技术帖</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8B%93%E5%B1%95/">拓展</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B8%A9%E5%9D%91/">踩坑</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE%E6%94%B9%E9%80%A0/">项目改造</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/Docker/" style="font-size:13.14px">Docker</a> <a href="/tags/HarmonyOS/" style="font-size:13.29px">HarmonyOS</a> <a href="/tags/SEO/" style="font-size:13px">SEO</a> <a href="/tags/ant-design/" style="font-size:13px">ant-design</a> <a href="/tags/api/" style="font-size:13px">api</a> <a href="/tags/git/" style="font-size:13.14px">git</a> <a href="/tags/hexoBlog/" style="font-size:13.14px">hexoBlog</a> <a href="/tags/http/" style="font-size:13.43px">http</a> <a href="/tags/js%E5%9F%BA%E7%A1%80/" style="font-size:13.71px">js基础</a> <a href="/tags/react/" style="font-size:13px">react</a> <a href="/tags/svn/" style="font-size:13px">svn</a> <a href="/tags/vue/" style="font-size:13px">vue</a> <a href="/tags/web/" style="font-size:13.57px">web</a> <a href="/tags/web%E7%A7%BB%E5%8A%A8%E7%AB%AF/" style="font-size:13px">web移动端</a> <a href="/tags/%E4%BC%98%E5%8C%96/" style="font-size:13.57px">优化</a> <a href="/tags/%E5%85%BC%E5%AE%B9/" style="font-size:13px">兼容</a> <a href="/tags/%E5%8A%A8%E7%94%BB/" style="font-size:13px">动画</a> <a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size:13px">命令</a> <a href="/tags/%E5%AE%89%E5%8D%93/" style="font-size:13px">安卓</a> <a href="/tags/%E6%8B%93%E5%B1%95/" style="font-size:13.29px">拓展</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size:13px">浏览器</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" style="font-size:13px">环境变量</a> <a href="/tags/%E7%9B%B4%E6%92%AD/" style="font-size:13.14px">直播</a> <a href="/tags/%E7%A6%BB%E7%BA%BF%E5%8C%85/" style="font-size:13px">离线包</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size:14px">笔记</a> <a href="/tags/%E8%84%9A%E6%9C%AC/" style="font-size:13.14px">脚本</a> <a href="/tags/%E8%B0%83%E8%AF%95/" style="font-size:13.14px">调试</a> <a href="/tags/%E8%B8%A9%E5%9D%91/" style="font-size:13px">踩坑</a> <a href="/tags/%E8%BF%BD%E6%9C%AC%E6%BA%AF%E6%BA%90/" style="font-size:13.86px">追本溯源</a> <a href="/tags/%E9%80%9F%E6%9F%A5/" style="font-size:13px">速查</a> <a href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" style="font-size:13px">音视频</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">三月 2025</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AE%A2%E6%88%B7%E7%AB%AF/">客户端</a></p><p class="item-title"><a href="/2025/03/03/HarmonyOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HarmonyOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%BC%80%E5%8F%91%E6%9D%82%E8%AE%B0/" class="title">HarmonyOS学习笔记-开发杂记</a></p><p class="item-date"><time datetime="2025-03-03T12:33:27.000Z" itemprop="datePublished">2025-03-03</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AE%A2%E6%88%B7%E7%AB%AF/">客户端</a></p><p class="item-title"><a href="/2025/03/02/HarmonyOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HarmonyOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20-%20har%20%E5%8C%85%E6%9E%84%E5%BB%BA&&%E5%8F%91%E5%B8%83/" class="title">HarmonyOS学习笔记 - har 包构建&amp;&amp;发布</a></p><p class="item-date"><time datetime="2025-03-02T10:26:47.000Z" itemprop="datePublished">2025-03-02</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AE%A2%E6%88%B7%E7%AB%AF/">客户端</a></p><p class="item-title"><a href="/2025/01/16/HarmonyOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HarmonyOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%88%9D%E8%AF%86/" class="title">HarmonyOS学习笔记-初识</a></p><p class="item-date"><time datetime="2025-01-16T00:26:17.000Z" itemprop="datePublished">2025-01-16</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%B8%96/">技术帖</a></p><p class="item-title"><a href="/2024/11/15/web/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96-7.h5%E7%A6%BB%E7%BA%BFZIP%E5%8C%85/" class="title">前端项目优化-7.h5离线ZIP包</a></p><p class="item-date"><time datetime="2024-11-15T06:37:34.000Z" itemprop="datePublished">2024-11-15</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%B8%96/">技术帖</a></p><p class="item-title"><a href="/2024/08/27/web/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96-6.SEO%E6%8C%87%E5%8D%97/" class="title">前端项目优化-6.SEO指南</a></p><p class="item-date"><time datetime="2024-08-27T05:37:34.000Z" itemprop="datePublished">2024-08-27</time></p></div></li></ul></div></div><div class="widget"><h3 class="widget-title">标签</h3><div class="widget-body"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HarmonyOS/" rel="tag">HarmonyOS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ant-design/" rel="tag">ant-design</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/api/" rel="tag">api</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexoBlog/" rel="tag">hexoBlog</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js%E5%9F%BA%E7%A1%80/" rel="tag">js基础</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/" rel="tag">svn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web%E7%A7%BB%E5%8A%A8%E7%AB%AF/" rel="tag">web移动端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BC%98%E5%8C%96/" rel="tag">优化</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%BC%E5%AE%B9/" rel="tag">兼容</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E7%94%BB/" rel="tag">动画</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4/" rel="tag">命令</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E5%8D%93/" rel="tag">安卓</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8B%93%E5%B1%95/" rel="tag">拓展</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" rel="tag">环境变量</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B4%E6%92%AD/" rel="tag">直播</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A6%BB%E7%BA%BF%E5%8C%85/" rel="tag">离线包</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%84%9A%E6%9C%AC/" rel="tag">脚本</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E8%AF%95/" rel="tag">调试</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B8%A9%E5%9D%91/" rel="tag">踩坑</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%BD%E6%9C%AC%E6%BA%AF%E6%BA%90/" rel="tag">追本溯源</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%9F%E6%9F%A5/" rel="tag">速查</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/" rel="tag">音视频</a><span class="tag-list-count">1</span></li></ul></div></div></div></aside><main class="main" role="main"><div class="content"><article id="post-网络协议-浏览器中的HTTP请求" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">网络协议-浏览器中的HTTP请求</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2023/12/01/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84HTTP%E8%AF%B7%E6%B1%82/" class="article-date"><time datetime="2023-12-01T04:38:56.000Z" itemprop="datePublished">2023-12-01</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/http/" rel="tag">http</a>, <a class="article-tag-link-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2023/12/01/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84HTTP%E8%AF%B7%E6%B1%82/#comments" class="article-comment-link">评论</a></span></div></div><div class="article-entry marked-body" itemprop="articleBody"><blockquote><p>浏览器发起 HTTP 请求的一般步 ：</p><ol start="0"><li>检查本地缓存：检查是否存在本地缓存，如果存在直接使用。</li><li>DNS 解析：将域名解析为 IP 地址。</li><li>ARP 查询：获取目标 IP 地址对应的 MAC 地址（如果在同一局域网内）。</li><li>TCP 三次握手：通过 TCP 三次握手建立连接。</li><li>TLS 握手: 用于在浏览器和服务器之间协商加密参数和验证身份</li><li>基于 TCP 数据流 <strong>发送 HTTP 请求</strong>：通过建立的 TCP 连接将 HTTP 请求发送到服务器。</li><li>基于 TCP 数据流 <strong>接收 HTTP 响应</strong>：接收服务器返回的响应数据。</li><li>关闭连接：数据传输完成后，根据 HTTP 协议（如 HTTP/1.1 的 Connection: close 或 HTTP/2 的复用机制）关闭或保持连接。</li></ol></blockquote><h2 id="http-缓存"><a class="markdownIt-Anchor" href="#http-缓存"></a> HTTP 缓存</h2><p>发起网络请求之前，查找缓存（上一次请求网站的 html、css、js、图片等文件资源的副本）。 如果命中缓存，会拦截请求，直接返回缓存数据，并直接结束请求，而不会再去源服务器重新下载。从而节省了网络请求的时间。</p><p>这样做的好处有：<br>1、减少网络带宽消耗<br>2、降低服务器压力<br>3、减少网络延迟，提升性能（获取资源的耗时更短了）</p><h3 id="http-缓存大小"><a class="markdownIt-Anchor" href="#http-缓存大小"></a> HTTP 缓存大小</h3><p>并没有一个固定的上限，会因<strong>浏览器类型</strong>、<strong>设备存储容量</strong>、<strong>用户设置</strong>以及<strong>浏览器的自适应策略</strong>而有所不同。</p><p>一般来情况下：</p><ul><li>桌面浏览器 缓存大小可能在 50MB 到 200MB 之间</li><li>移动浏览器 缓存大小可能在 20MB 到 50MB 之间。</li></ul><h3 id="http-缓存-控制"><a class="markdownIt-Anchor" href="#http-缓存-控制"></a> HTTP 缓存 控制</h3><h4 id="http-缓存分两类"><a class="markdownIt-Anchor" href="#http-缓存分两类"></a> HTTP 缓存分两类</h4><h5 id="1-新鲜度过期"><a class="markdownIt-Anchor" href="#1-新鲜度过期"></a> 1. 新鲜度(过期)</h5><ul><li>浏览器缓存的有效期，缓存必须满足:<ul><li><strong>含有完整的过期时间控制头信息，并在有效期内</strong></li><li><strong>浏览器已经使用过这个副本，并且在会话中已经检查过新鲜度</strong>。</li></ul></li></ul><h5 id="2-校验值验证"><a class="markdownIt-Anchor" href="#2-校验值验证"></a> 2. 校验值(验证)</h5><ul><li>服务器返回资源的时候，会在响应头信息中带上资源 实体标签 <code>Entity Tag</code>，用来作为浏览器再次请求过程的校验标识</li><li>校验标识不匹配，说明资源已经被修改过或过期，浏览器需要重新请求资源。</li></ul><h4 id="http-缓存机制分两种"><a class="markdownIt-Anchor" href="#http-缓存机制分两种"></a> HTTP 缓存机制分两种</h4><h5 id="强缓存"><a class="markdownIt-Anchor" href="#强缓存"></a> <strong>强缓存</strong></h5><p>浏览器在请求资源时，会检查 <strong>响应请求头</strong> 的标识 <code>Cache-Control</code> 或者 <code>Expires</code> ，如果资源在缓存有效期内，直接使用本地副本，不再发起 HTTP 请求。</p><ul><li>cache-control 相对过期时间（http1.1）: <code>cache-control: max-age=31536000</code>, 优先级 高于Expires</li><li>Expires 绝对过期时间（http1.0）: <code>Expires: Wed, 21 Oct 2015 07:28:00 GMT</code>, 是一个时间点, 是服务器时间，如果本地时间与服务器时间不一致，缓存将无法命中</li></ul><p>cache-control 参数说明：</p><ul><li><code>public</code> 公共缓存，客户端和代理服务器<strong>都可缓存</strong>。</li><li><code>private</code> 私有缓存，只可以客户端缓存，<strong>不能在代理服务器处缓存</strong>。</li><li><code>no-cache</code> 不缓存响应内容，需要<strong>使用协商缓存</strong>来验证缓存是否可重用。一般用在index.html</li><li><code>no-store</code> 不使用缓存，请求或响应都不可以缓存。</li></ul><blockquote><p><code>强缓存</code> &gt; <code>协商缓存</code>，如果强缓存生效，直接使用缓存，不会发起请求。</p></blockquote><h5 id="协商缓存"><a class="markdownIt-Anchor" href="#协商缓存"></a> <strong>协商缓存</strong></h5><ul><li>浏览器 通过 <strong>响应头</strong> 的 <strong>Last-Modified</strong> 和 <strong>ETag</strong> 发起请求</li><li>服务器 通过 <strong>请求头</strong> 的 <strong>If-Modified-Since</strong> 和 <strong>If-None-Match</strong>与 服务器上 <code>ETag</code> 和 <code>Last-Modified</code>进行对比，如果都没过期，返回304（资源未被修改，直接使用缓存），否则返200状态码。</li><li>检查响应头的 <code>Last-Modified</code> 和 <code>ETag</code> 唯一标识符字段，这两个字段的值是服务器上资源的最后修改时间和 ETag 值。</li><li><code>If-Modified-Since</code> 与 <code>Last-Modified</code> 对应，表示上一次请求时<code>Last-Modified</code>的值。</li><li><code>If-None-Match</code> 与 <code>ETag</code> 对应，表示上一次请求时<code>ETag</code>的唯一标识符值（通常是资源的哈希值）。</li></ul><h6 id="last-modified-与-etag-一起使用"><a class="markdownIt-Anchor" href="#last-modified-与-etag-一起使用"></a> <code>Last-Modified</code> 与 <code>ETag</code> 一起使用</h6><ul><li><code>ETag</code>主要是为了解决<code>Last-Modified</code>比较难解决的问题：<br>1、<code>Last-Modified</code> 标注的<strong>时间仅到秒级</strong>, 如果某些文件在1秒钟以内，被修改多次的话，它将不能准确标注文件的新鲜度。<br>2、如果 某些文件会被<strong>定期生成内容不变</strong>，但<code>Last-Modified</code>改变了，导致文件 <strong>无法使用缓存</strong>。<br>3、客户端与 服务器 时间不一致等情形。ETag是 服务器自动生成或开发者生成 对应资源在 服务器的 <strong>唯一标识符</strong>，更加精准控制缓存。</li><li>两者可以一起使用，服务器<strong>优先验证<code>ETag</code></strong>，一致时，<strong>才会继续比对<code>Last-Mofifed</code></strong>，才决定是否要返回304。</li></ul><blockquote><p>304 状态码：表示 客户端请求的<strong>资源未被修改</strong>，允许客户端<strong>继续使用本地缓存</strong>，无需下载。</p></blockquote><blockquote><p>⚠️ 缓存验证机制：虽然 304 状态码可以 减少数据传输，但仍然 会发送 HTTP 请求，因此需要合理设置缓存策略（如 Cache-Control 和 Expires）。</p></blockquote><h6 id="last-modified-etag-与-cache-control-expires-一起使用时"><a class="markdownIt-Anchor" href="#last-modified-etag-与-cache-control-expires-一起使用时"></a> <code>Last-Modified / ETag</code> 与 <code>Cache-Control / Expires</code> 一起使用时</h6><ul><li>优先 检测 <code>Cache-Control / Expires</code> 本地缓存是否还在有效期内，在有效期内，直接使用本地缓存，阻止发送请求。</li><li>如果过期，就走完整的<strong>协商缓存流程</strong>，返回304 或者 200。</li><li>一般情况下，两者配合使用，<ul><li>因为即使设置缓存时间, <strong>当用户点击“刷新”按钮时</strong>，<strong>浏览器会忽略缓存</strong>继续向服务器发送请求，这时 <code>Last-Modified/ETag</code>将能够很好利用 304，从而减少响应开销。</li></ul></li></ul><h3 id="不能缓存的请求"><a class="markdownIt-Anchor" href="#不能缓存的请求"></a> 不能缓存的请求</h3><p>不是所有的请求都能被缓存：</p><ul><li><code>post 请求</code> 无法被缓存。</li><li>需要根据<code>cookie</code>、<code>认证信息</code>等 决定输入内容 的 动态请求 不能被缓存。</li><li>http 响应头 中<strong>不包含 <code>Last-Modified/ETag</code></strong>，也**不包含<code>Cache-Control/Expiress</code>**的 请求 无法被缓存。</li><li>http 信息头 <strong>明确设置 <code>Cache-Control:no-cache</code> 或<code>Cache-Control:max-age=0</code></strong> ,浏览器 不缓存时。</li></ul><p><a href="https://www.cnblogs.com/web-learn/p/15208864.html">浏览器缓存机制</a><br><a href="https://segmentfault.com/a/1190000043700956">HTTP | 强缓存与协商缓存</a></p><p>建立 TCP 连接<br>只有在以下情况下，浏览器才会建立 TCP 连接：</p><p>缓存中没有找到资源：即资源既不在内存缓存中，也不在磁盘缓存中。<br>缓存资源过期且服务器返回 200 OK：表示资源已更新，需要重新下载。</p><h2 id="dns-解析"><a class="markdownIt-Anchor" href="#dns-解析"></a> DNS 解析</h2><blockquote><p>域名是我们方便记忆的地址，而 IP 地址才是<strong>目标在网络中所被分配的节点</strong>。网络通讯大部分是基于TCP/IP的，而TCP/IP是基于IP地址的。 MAC 地址是对应目标网卡所在的固定地址。</p></blockquote><p>DNS协议是应用层协议，通常该协议运行在UDP协议之上，使用的是53端口号。</p><p>DNS 解析会进行<strong>查询</strong>，过程分为以下几个步骤：</p><ul><li>递归查询 【递归查询一般发送一次请求就够】<ul><li>询问 浏览器 DNS 缓存</li><li>询问 本地操作系统 DNS 缓存（即查找本地 host 文件）</li><li>询问 本地 DNS 解析器 DNS 缓存</li><li>询问 本地 DNS 服务器 【ISP（Internet Service Provider）互联网服务提供商（例如电信、移动）的 DNS 服务器】<ul><li>【 本地 DNS 服务器 没有会进入 迭代查询 阶段 】</li><li>本地是个相对概念，指离用户最近的 DNS 服务器， 如 114、8.8.8.8 运营商搭建，提供更快的域名解析服务</li></ul></li></ul></li></ul><p><img src="/images/web_optimize/1/dns_1.png" alt="dns解析"></p><ul><li>迭代查询【迭代过程需要 ISP DNS 服务器 发送多次请求】<ul><li>从 本地 DNS 服务器 发起请求查询<ul><li>询问 根服务器、顶级域名服务器、权威域名服务器</li></ul></li></ul></li></ul><p><img src="/images/web_optimize/1/dns_2.png" alt="dns解析"></p><blockquote><ul><li>根域名：<a href="http://www.hy.com">www.hy.com</a>. 中最后一个单个句点（.）或句点用于末尾的名称 [ 默认省略, 由ICANN 规定顶级域名 ]</li><li>顶级域名 TLD：.com</li><li>二层域名：<a href="http://hy.com">hy.com</a></li><li>子域：<a href="http://www.hy.com">www.hy.com</a></li><li>主机名：<a href="http://h1.www.hy.com">h1.www.hy.com</a></li></ul></blockquote><p>以用户输入的三级域名网址为例，<strong>本地DNS 查询 解析过程</strong> 如下：</p><ul><li>根域名服务器 没有 主机域名记录，返回 <strong>根域名服务器的 IP</strong> 地址</li><li>本地域名服务器向 cn 域名服务器查询，也没有相关记录，返回 <strong>二级域名服务器的 IP</strong> 地址</li><li>本地域名服务器再 二级域名服务器查询，也没有相关记录，但是知道 三级域名服务器可以解析这个域名，返回 <strong>三级域名服务器的 IP</strong> 地址</li><li>本地域名服务器向 三级域名服务器查询，发现有主机域名记录，返回对应的 IP 地址</li><li>最后 本地域名服务器将 对应的 IP 地址返回给客户端，整个解析过程完成</li></ul><blockquote><p>为什么DNS可以实现负载均衡？<br>DNS可以在 冗余的服务器上实现负载均衡，一般的大型网站 使用多台服务器提供服务，因此一个域名 可能会对应 多个服务器地址。这样可以 将用户的请求 均衡的分配 到各个不同的服务器上，这样来实现负载均衡。</p></blockquote><h2 id="建立-tcp-连接"><a class="markdownIt-Anchor" href="#建立-tcp-连接"></a> 建立 TCP 连接</h2><p>得到 IP 后， 首先，建立 TCP 连接，即三次握手过程：</p><ol><li>客户端发送标有 <code>SYN = 1，seq = x</code> 的数据包，表示 将要发送请求(x 为随机数)。</li><li>服务器发送标有 <code>SYN = 1，ACK=1, ack = x + 1，seq = y</code> 的数据包，表示 <strong>已经收到通知，告知客户端发送请求</strong>(y 为随机数)。</li><li>客户端发送标有 <code>ACK = 1, ack = y + 1，seq = x + 1</code> 的数据包，表示 <strong>确认收到服务器的响应</strong>。</li></ol><blockquote><p>SYN 表示 发送请求，ACK 表示 确认收到，seq 表示 序列号，ack 表示 确认号。<br>seq序列号初始值是随机的，避免重放攻击。</p></blockquote><p><img src="/images/web_optimize/1/tcp.webp" alt="tcp 三次握手"></p><h4 id="三次握手的设计原因"><a class="markdownIt-Anchor" href="#三次握手的设计原因"></a> 三次握手的设计原因</h4><ol><li>为了<strong>防止已过期的连接请求报文突然又传送到服务器</strong>，因而产生错误。<br>- 例如:客户端发送的第一个连接请求报文段因网络延迟被延迟到达服务器，那么进行三次握手可以防止服务器错误地打开一个已经失效的连接。</li><li>三次握手才能让双方均确认自己和对方的发送和接收能力都正常<br>- 第一次握手：客户端只是发<strong>送处请求报文段</strong>，什么都无法确认，而<strong>服务器</strong>可以<strong>确认自己的接收能力</strong>和<strong>客户端的发送能力</strong>正常；<br>- 第二次握手：服务器发送确认报文段，<strong>客户端可以确认自己和对方的发送、接收能力正常</strong>；<br>- 第三次握手：客户端发送确认报文段，<strong>服务器可以确认自己的发送能力正常</strong>。</li><li><strong>告知对方自己的初始序号值，并确认收到对方的初始序号值</strong>。<br>- 依靠 <strong>TCP 报文段中维护了 序号字段<code>seq</code> 和 确认序号字段 <code>ack</code></strong> 使得双方都能得到数据确认， 这也是 TCP 能够实现<strong>可靠的数据传输</strong> 的原因之一。</li></ol><blockquote><p>方便记忆场景：</p><ol><li>客户端： SYN：我给你的序号是5</li><li>服务端： ACK：我收到了你的序号是5; SYN：我也给你一个序号，是10</li><li>客户端： ACK：你的序号是10。现在，我要开始发内容了。</li></ol></blockquote><p><a href="https://segmentfault.com/a/1190000022410446">详解 TCP 三次握手、四次挥手，附带精美图解和超高频面试题</a></p><h2 id="tls-握手"><a class="markdownIt-Anchor" href="#tls-握手"></a> TLS 握手</h2><blockquote><p>在 TCP 连接建立成功后，浏览器和服务器通过 TLS 握手协商加密参数并验证身份<br>TLS 握手完成后，所有应用层数据（如 HTTP 请求和响应）都会通过加密通道传输</p></blockquote><h3 id="tls-握手的主要目的是-握手的目的是确保通信的安全性防止中间人攻击"><a class="markdownIt-Anchor" href="#tls-握手的主要目的是-握手的目的是确保通信的安全性防止中间人攻击"></a> TLS 握手的主要目的是： 握手的目的是确保通信的安全性，防止中间人攻击</h3><ul><li>验证服务器（和可选的客户端）身份。</li><li>协商加密算法。</li><li>生成共享的会话密钥。</li><li>确保通信的安全性。</li></ul><h3 id="tls-握手的过程"><a class="markdownIt-Anchor" href="#tls-握手的过程"></a> TLS 握手的过程</h3><p><a href="'/images/web_optimize/1/tls.png'">tls.png</a></p><p>以 TLS 1.2 为例:</p><ol><li>浏览器发送 Client Hello 消息。</li></ol><ul><li>客户端（浏览器）向服务器发送一个 Client Hello 消息，内容包括：<ul><li>客户端支持的 TLS 版本。</li><li>客户端生成的随机数（Client Random）。</li><li>支持的加密算法套件（Cipher Suites）。</li><li>支持的压缩算法（可选）。</li><li>扩展信息（如支持的椭圆曲线、签名算法等）。</li></ul></li></ul><ol start="2"><li>服务器发送 Server Hello 消息。</li></ol><ul><li>服务器收到 Client Hello 后，选择一个加密算法套件，并生成自己的随机数（Server Random），然后发送 Server Hello 消息，内容包括：<ul><li>选定的 TLS 版本。</li><li>服务器随机数。</li><li>选定的加密算法套件。</li><li>会话 ID（可选）。</li></ul></li></ul><ol start="3"><li>证书交换</li></ol><ul><li>服务器发送自己的证书（或证书链），客户端通过证书颁发机构（CA）验证服务器的身份。</li><li>如果服务器需要客户端证书，还会发送 <code>Certificate Request</code>。</li></ul><ol start="4"><li>密钥协商</li></ol><ul><li>客户端生成一个预主密钥（Pre-Master Secret），并使用服务器证书中的公钥加密后发送给服务器。</li><li>客户端和服务器分别使用客户端随机数、服务器随机数和预主密钥，通过相同的算法生成主密钥（Master Secret）。</li><li>双方使用主密钥生成用于加密通信的会话密钥。</li></ul><ol start="5"><li><code>Change Cipher Spec</code> 和 <code>Finished</code></li></ol><ul><li>客户端和服务器分别发送 <code>Change Cipher Spec</code> 消息，通知对方 后续通信将 <strong>使用协商好的加密算法和密钥</strong>。</li><li>双方发送 Finished 消息，验证握手过程的完整性和正确性。</li><li>如果验证成功，握手完成，开始加密通信。</li></ul><ol start="3"><li>TLS 1.3 的改进</li></ol><p>TLS 1.3 对握手过程进行了优化，主要改进包括： <strong>减少了握手时间</strong>和往返次数，<strong>提高了性能和安全性</strong></p><ul><li><strong>减少握手往返次数</strong>：TLS 1.3 将握手过程减少到 1-RTT（一次往返），甚至在某些情况下可以实现 0-RTT（零往返）。</li><li><strong>更安全的密钥交换算法</strong>：TLS 1.3 引入了更安全的密钥交换算法（如 ECDHE），并废弃了不安全的算法（如 RSA 密钥交换）。</li><li><strong>部分握手信息加密</strong>：TLS 1.3 对握手过程中的部分信息进行了加密，增强了安全性。</li></ul><blockquote><p>https 与 http 核心区别：<br>HTTP 基于 TCP 协议，信息是明文传输；<br>HTTPS 在 TCP 之上引入了 TLS/SSL 协议, 信息是加密传输。</p></blockquote><h2 id="http-请求报文"><a class="markdownIt-Anchor" href="#http-请求报文"></a> HTTP 请求报文</h2><p>基于 TCP 文件流 发送的资源：</p><p>请求行<br>请求头<br>请求体（只有post请求有，get请求没有）</p><h2 id="http-响应报文"><a class="markdownIt-Anchor" href="#http-响应报文"></a> HTTP 响应报文</h2><p>响应行：版本协议、状态码<br>响应头<br>响应体</p><h2 id="断开连接"><a class="markdownIt-Anchor" href="#断开连接"></a> 断开连接</h2><p>四次挥手详细过程如下：</p><ul><li>客户端发送 关闭连接 <code>FIN =1， seq = x</code> 报文段，并停止发送数据。(x等于 之前发送的所有数据的 最后一个字节的序号加一)<ul><li>客户端状态 变更为 <code>FIN-WAIT-1</code>状态，等待来自 <strong>服务器的确认报文</strong>。</li></ul></li><li>服务器 收到 FIN 报文后，发回 确认报文:<code>ACK = 1， ack = x + 1, seq = y</code>，并带上自己的序号y<ul><li>服务器 变更为 <code>CLOSE-WAIT</code>状态(<strong>服务器还可以发送数据</strong>)。服务器还会 <code>通知上层的应用程序</code> 对方已经释放连接，没有数据要发送了;TCP 处于<code>半关闭状态</code></li><li>客户端 在收到服务器的 <code>ACK 报文段</code>后, 随即进入 <code>FIN-WAIT-2</code> 状态（<strong>还能收到来自服务器的数据</strong>）</li></ul></li><li>服务器发 <strong>送完所有数据后</strong>，会向客户端发送 <code>FIN =1 ACK =1 ack=x+1 seq=z</code> 报文段，<ul><li>服务器 变更为 <code>LAST-ACK</code> 状态，等待来自<strong>客户端的确认报文段</strong>。</li></ul></li><li>客户端收到 <code>服务器的 FIN 报文段</code>后，发送 <code>ACK = 1， ack = z + 1, seq = x + 1</code>，<ul><li>服务器收到 <code>客户端的 ACK 报文</code> 后 变更为 <code>CLOSED 状态</code>，因为 没有等待时间，服务器比客户端更早进入 <code>CLOSED 状态</code>。</li><li>客户端 变更 <code>TIME-WAIT</code> 状态，<code>等待 2MSL</code>(两倍的报文段最大存活时间，常用值有30秒、1分钟和2分钟)。</li><li>最后，无特殊情况，客户端 进入 <code>CLOSED 状态</code>。<br><img src="/images/web_optimize/1/tcp.webp" alt="tcp 四次挥手"></li></ul></li></ul><p>为什么 TCP 关闭连接 为什么 四次而不是三次？</p><ul><li>服务器 收到客户端的 <code>FIN 报文段</code>后，可能<code>还有数据要传输</code>，<code>不能马上关闭连接</code>, 但是<strong>会做出应答</strong>，返回 ACK 报文段，在数据发送完后，服务器会向客户 <strong>单发送</strong> <code>FIN 报文</code>，表示 数据发送完毕，请求关闭连接;</li><li>然后客户端再做出应答，因此一共需要四次挥手。</li><li>根本原因 ：TCP 连接是 <strong>全双工</strong> (即数据在两个方向上能同时传递，同时双向传输数据)， 因此<strong>每个方向必须单独地进行关闭</strong></li></ul><p>客户端为什么需要在 <code>TIME-WAIT 状态</code> 等待 2MSL 时间才能进入 <code>CLOSED 状态</code>？</p><ul><li><code>网络并不总是可靠的</code>，如果 <code>客户端发送的 ACK 报文段</code><strong>丢失</strong>，服务器在<strong>接收不到 ACK</strong> 的情况下,会<strong>一直重发</strong> <code>FIN 报文段</code>.</li><li>为此 <strong>客户端为了确保服务器收到了 ACK</strong>，会<code>设置一个定时器</code>，并在 <code>TIME-WAIT 状态等待 2MSL 的时间</code>，</li><li>收到 <code>服务器的 FIN 报文段</code>，此时 客户端会 <code>重置计时器并再次等待 2MSL 的时间</code>，</li><li>没收到 <code>FIN 报文</code>，说明成功收到了 <code>ACK 报文</code>，客户端就可以进入 <code>CLOSED 状态</code>了。</li></ul></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="http://mcdowell8023.github.io/2023/12/01/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84HTTP%E8%AF%B7%E6%B1%82/" title="网络协议-浏览器中的HTTP请求" target="_blank" rel="external">http://mcdowell8023.github.io/2023/12/01/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84HTTP%E8%AF%B7%E6%B1%82/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/mcdowell8023" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/mcdowell8023" target="_blank"><span class="text-dark">mcdowell</span><small class="ml-1x">Web 前端 &amp; 90后</small></a></h3><div>一线前端从业人员。</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2023/12/18/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-HTTP%E6%A0%B8%E5%BF%83%E9%97%AE%E9%A2%98/" title="网络协议-HTTP核心问题"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="next"><a href="/2022/05/28/%E5%B7%A5%E5%85%B7/svn/" title="SVN - 常用命令"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/mcdowell8023" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://www.linkedin.com/in/%E6%98%BE%E8%B6%85-%E5%AD%9F-688582107/" target="_blank" title="Linkedin" data-toggle="tooltip" data-placement="top"><i class="icon icon-linkedin"></i></a></li><li><a href="https://mcdowell8023.gitee.io/" target="_blank" title="Coding" data-toggle="tooltip" data-placement="top"><i class="icon icon-coding"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright">&copy; 2025 mcdowell<div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(e){return-1<GUEST.indexOf(e)});new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"",appKey:"",placeholder:"Just go go",avatar:"mm",meta:meta,pageSize:"10",visitor:!1})</script></body></html>